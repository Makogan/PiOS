//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/*
* Authors: Camilo Talero
*
*
* File type: C
*
* This files contains the main loop for the PiOS kernel and some small
* helper functions
*/
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

//========================================================================================
/*
* Includes and macro definitions:
*/
//========================================================================================

#include <stdint.h>
#include <mailbox.h>
#include <peripherals.h>

//########################################################################################

//========================================================================================
/**
  Function Declarations:
*/
//========================================================================================

void wait(uint32_t time);

//########################################################################################

//========================================================================================
/*
* Function Definitions:
*/
//========================================================================================

/*
* The main control loop for the kernel. We will never exit this function.
*/
/*void blink()
{
  wait(0xF0000);

  set_LED(ON);

  wait(0xF0000);

  set_LED(OFF);
}*/

void kernel_main(void)
{
  init_display();

  while(1)
  {
   //blink();
  }

}

#pragma GCC optimize ("O0")
/*
* A function to wait.
*
* Parameters:
*   uint32_t time: the amount of time to wait.
*/
void wait(uint32_t time)
{
  while (time > 0)
    time--;
}
#pragma GCC optimize ("02")
//########################################################################################
